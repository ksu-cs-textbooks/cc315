




  
	
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
		
		
		
<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 6.0.0">
    <meta name="description" content="YouTube Video Video Materials
As a result of being immutable, strings can be cumbersome to work with in certain applications. When working with long strings or strings that we are continually appending to, such as in the memory example, we end up creating a lot of sizable copies.
Recall from the memory example the block of pseudocode.
1. function APPENDER(NUMBER, BASE) 2. RESULT = &#34;&#34; 3. loop I from 1 to NUMBER 4.">
    <meta name="author" content="K-State CS Faculty">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Limitations Python :: CC 315 Textbook">
    <meta name="twitter:description" content="YouTube Video Video Materials
As a result of being immutable, strings can be cumbersome to work with in certain applications. When working with long strings or strings that we are continually appending to, such as in the memory example, we end up creating a lot of sizable copies.
Recall from the memory example the block of pseudocode.
1. function APPENDER(NUMBER, BASE) 2. RESULT = &#34;&#34; 3. loop I from 1 to NUMBER 4.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc315/i-strings/1-strings-and-stringbuilders/04-p-memory-example/">
    <meta property="og:site_name" content="CC 315 Textbook">
    <meta property="og:title" content="Limitations Python :: CC 315 Textbook">
    <meta property="og:description" content="YouTube Video Video Materials
As a result of being immutable, strings can be cumbersome to work with in certain applications. When working with long strings or strings that we are continually appending to, such as in the memory example, we end up creating a lot of sizable copies.
Recall from the memory example the block of pseudocode.
1. function APPENDER(NUMBER, BASE) 2. RESULT = &#34;&#34; 3. loop I from 1 to NUMBER 4.">
    <meta property="og:locale" content="en-us">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Limitations Python :: CC 315 Textbook">
    <meta itemprop="description" content="YouTube Video Video Materials
As a result of being immutable, strings can be cumbersome to work with in certain applications. When working with long strings or strings that we are continually appending to, such as in the memory example, we end up creating a lot of sizable copies.
Recall from the memory example the block of pseudocode.
1. function APPENDER(NUMBER, BASE) 2. RESULT = &#34;&#34; 3. loop I from 1 to NUMBER 4.">
    <meta itemprop="dateModified" content="2024-06-27T16:12:13-05:00">
    <meta itemprop="wordCount" content="589">
    <title>Limitations Python :: CC 315 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc315/i-strings/1-strings-and-stringbuilders/04-p-memory-example/" rel="canonical" type="text/html" title="Limitations Python :: CC 315 Textbook">
    <link href="/cc315/i-strings/1-strings-and-stringbuilders/04-p-memory-example/index.xml" rel="alternate" type="application/rss+xml" title="Limitations Python :: CC 315 Textbook">
    <link href="/cc315/i-strings/1-strings-and-stringbuilders/04-p-memory-example/index.print.html" rel="alternate" type="text/html" title="Limitations Python :: CC 315 Textbook">
    <link href="/cc315/i-strings/1-strings-and-stringbuilders/04-p-memory-example/embed.html" rel="alternate" type="text/html" title="Limitations Python :: CC 315 Textbook">
    <link href="/cc315/css/fontawesome-all.min.css?1719522772" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc315/css/fontawesome-all.min.css?1719522772" rel="stylesheet"></noscript>
    <link href="/cc315/css/nucleus.css?1719522772" rel="stylesheet">
    <link href="/cc315/css/auto-complete.css?1719522772" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc315/css/auto-complete.css?1719522772" rel="stylesheet"></noscript>
    <link href="/cc315/css/perfect-scrollbar.min.css?1719522772" rel="stylesheet">
    <link href="/cc315/css/fonts.css?1719522772" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc315/css/fonts.css?1719522772" rel="stylesheet"></noscript>
    <link href="/cc315/css/theme.css?1719522772" rel="stylesheet">
    <link href="/cc315/css/theme-auto.css?1719522772" rel="stylesheet" id="R-variant-style">
    <link href="/cc315/css/chroma-auto.css?1719522772" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/cc315/css/variant.css?1719522772" rel="stylesheet">
    <link href="/cc315/css/print.css?1719522772" rel="stylesheet" media="print">
    <script src="/cc315/js/variant.js?1719522772"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc315';
      window.index_js_url="/cc315/index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
    
    <link href="/cc315/css/custom.css?1719522772" rel="stylesheet">
  </head>
  <body class="mobile-support tele disableInlineCopyToClipboard" data-url="/cc315/i-strings/1-strings-and-stringbuilders/04-p-memory-example/">
    
    <div id="tele" class="tele mirror">
    
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="limitations-python">Limitations Python</h1>


<a href="https://www.youtube.com/watch?v=gsE16hh3iQQ">YouTube Video</a>

<p><a href="/cc315/i-strings/1-strings-and-stringbuilders/04-p-memory-example/video/">Video Materials</a></p>
<p>As a result of being immutable, strings can be cumbersome to work with in certain applications. When working with long strings or strings that we are continually appending to, such as in the memory example, we end up creating a lot of sizable copies.</p>
<p>Recall from the memory example the block of pseudocode.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tex" data-lang="tex"><span class="line"><span class="cl">1. function APPENDER(NUMBER, BASE)
</span></span><span class="line"><span class="cl">2.     RESULT = &#34;&#34;
</span></span><span class="line"><span class="cl">3.     loop I from 1 to NUMBER
</span></span><span class="line"><span class="cl">4.         RESULT = RESULT + BASE
</span></span><span class="line"><span class="cl">5.         if I MOD 2 = 0
</span></span><span class="line"><span class="cl">6.             RESULT = RESULT + &#34; &#34;
</span></span><span class="line"><span class="cl">7.         else
</span></span><span class="line"><span class="cl">8.             RESULT = RESULT + &#34;, &#34; 
</span></span><span class="line"><span class="cl">9.     end loop
</span></span><span class="line"><span class="cl">10.    return RESULT
</span></span><span class="line"><span class="cl">11. end function</span></span></code></pre></div><p>In this example, what if we changed <code>RESULT</code> to a mutable type, such as a StringBuilder in Java. Once the loop is done, we can cast <code>RESULT</code> to a string. By changing just the one aspect of the code, we would make only one copy of <code>RESULT</code> and have far less character copies.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Java specifically has a <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html" rel="external" target="_blank">StringBuilder class</a> which was created for this precise reason.</p>
</div>
</div>
<p>Consider the following, and note the slight changes on lines 2, 4, 6, 8 and the additional line 10.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tex" data-lang="tex"><span class="line"><span class="cl">1. function APPENDER<span class="nb">_</span>LIST(NUMBER, BASE)
</span></span><span class="line"><span class="cl">2.     RESULT = []
</span></span><span class="line"><span class="cl">3.     loop I from 1 to NUMBER
</span></span><span class="line"><span class="cl">4.         RESULT.APPEND(BASE) 
</span></span><span class="line"><span class="cl">5.         if I MOD 2 = 0
</span></span><span class="line"><span class="cl">6.             RESULT.APPEND(&#34; &#34;) 
</span></span><span class="line"><span class="cl">7.         else
</span></span><span class="line"><span class="cl">8.             RESULT.APPEND(&#34;, &#34;)  
</span></span><span class="line"><span class="cl">9.     end loop
</span></span><span class="line"><span class="cl">10.    RESULT = &#34;&#34;.JOIN(RESULT)
</span></span><span class="line"><span class="cl">11.    return RESULT
</span></span><span class="line"><span class="cl">12. end function</span></span></code></pre></div><p>Now consider APPENDER_LIST(4,&lsquo;abc&rsquo;)</p>
<ul>
<li>
<p>Initialization: We start by initializing the empty array. <code>RESULT</code> will hold the pointer <code>0x1</code>.
<a href="#R-image-7a46c24bd3392d8cb53ffef238c5a8cb" class="lightbox-link"><img alt="Initialize" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cc315/images/1/1SB_mem_map1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7a46c24bd3392d8cb53ffef238c5a8cb"><img alt="Initialize" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cc315/images/1/1SB_mem_map1.png"></a></p>
</li>
<li>
<p>I = 1: Now we have entered the loop and on line 4, we add more characters to our array. At this point, we would have only entry <code>0x1</code> in our heap and our variable <code>RESULT</code> would have the pointer <code>0x1</code>. Continuing through the code, line 5 determines if <code>I</code> is divisible by 2. In this iteration <code>I = 1</code>, so we take the else branch. We again add characters to our array.  In total, we have written 5 characters. We then increment I and move to the next iteration.<br>
<a href="#R-image-4bda58d278b097e05b0e25abe6dd6b52" class="lightbox-link"><img alt="After 1st Loop" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cc315/images/1/1SB_mem_map3.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4bda58d278b097e05b0e25abe6dd6b52"><img alt="After 1st Loop" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cc315/images/1/1SB_mem_map3.png"></a></p>
</li>
<li>
<p>I = 2: We continue the loop and on line 4, we add more characters to our array. We still have just one entry in memory and our pointer is still <code>0x1</code>. In this iteration, we have written 4 characters. We then increment <code>I</code> and move to the next iteration of the loop.
<a href="#R-image-4c2d83e01e4172d1be2fb80205dce95e" class="lightbox-link"><img alt="After 2nd Loop" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cc315/images/1/1SB_mem_map5.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4c2d83e01e4172d1be2fb80205dce95e"><img alt="After 2nd Loop" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cc315/images/1/1SB_mem_map5.png"></a></p>
</li>
<li>
<p>I = 3: We continue the loop and on line 4, we add more characters to our array.  In this iteration, we have written 5 characters. We then increment <code>I</code> and thus <code>I = 4</code> breaking out of the loop.
<a href="#R-image-5a2be0a5f07c9efc4b8997b0ca3ca028" class="lightbox-link"><img alt="After 3rd Loop" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cc315/images/1/1SB_mem_map7.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5a2be0a5f07c9efc4b8997b0ca3ca028"><img alt="After 3rd Loop" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cc315/images/1/1SB_mem_map7.png"></a></p>
</li>
<li>
<p>Post-Loop: Once the loop breaks, we join the array to create the final string. This creates a new place in memory and changes RESULT to contain the pointer <code>0x2</code>.
<a href="#R-image-8f3f48235521f300dd11a4c60caa89d7" class="lightbox-link"><img alt="After Loop Breaks" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cc315/images/1/1SB_mem_map8.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8f3f48235521f300dd11a4c60caa89d7"><img alt="After Loop Breaks" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cc315/images/1/1SB_mem_map8.png"></a></p>
</li>
</ul>
<p>We can do some further analysis of the memory that is required for this particular block.</p>
<table>
<thead>
<tr>
<th>Iteration</th>
<th>Memory Entries</th>
<th>Character Copies</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
<td>8</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>17</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>26</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>35</td>
</tr>
<tr>
<td>.</td>
<td>.</td>
<td>.</td>
</tr>
<tr>
<td>n</td>
<td>2</td>
<td>9n - 1</td>
</tr>
</tbody>
</table>
<p>Again, you need not worry about creating these equations for this course. To illustrate the improvement even more explicitly, let&rsquo;s consider our previous example with 100K iterations. For APPENDER there were (2x100,000 - 1) = 200,001 memory entries and (9x100,000<sup>2</sup> + 7x100,000)/2 = 45 billion character copies. For APPENDER_LIST we now have just 2 memory entries and (9x100,000 - 1) = 899,999 character copies. This dramatic improvement was a result of changing our data structure ever so slightly.</p>
<p>Reference: <a href="http://people.cs.ksu.edu/~rhowell/DataStructures/strings/stringbuilders.html" rel="external" target="_blank">http://people.cs.ksu.edu/~rhowell/DataStructures/strings/stringbuilders.html</a></p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>
</div>
</main>
</div>

</div>




<script src="/cc315/js/clipboard.min.js?1719522772" defer></script>
<script src="/cc315/js/perfect-scrollbar.min.js?1719522772" defer></script>
<script src="/cc315/js/theme.js?1719522772" defer></script>

<script src="/cc315/js/tele-scroll.js?1719522772" defer></script>

</body>
</html>
